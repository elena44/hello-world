<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>The distribution of the variations of the preposition a~ab in Caesar&#39;s &#39;Commentaries on the Gallic War&#39; by elena44</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">The distribution of the variations of the preposition a~ab in Caesar&#39;s &#39;Commentaries on the Gallic War&#39;</h1>
      <h2 class="project-tagline">код для нахождения всех вхождений с предлогом в сочинении</h2>
      <a href="https://github.com/elena44/hello-world" class="btn">View on GitHub</a>
      <a href="https://github.com/elena44/hello-world/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/elena44/hello-world/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <p>Код был написан для текста "Записок о Галльской войне", представленном на сайте thelatinlibrary.com. На текстах другого формата программа не будет работать. Язык программирования - Python 3.3.
Текст каждой книги был скопирован, сохранен в формате txt и помещен в одну папку с программой.
Программа работает для одной книги произведения. То есть, чтобы запустить ее для отдельной книги, необходимо видоизменить код, а именно название файла, который открывает программа (т.е. изменить номер книги).
Программа не идеальна, и, к сожалению, не находит вхождения с предлогом с большой буквы, т.е. вхождения в начале предложения (их нужно искать вручную). 
На экран сначала массивом выводится схематичное распределение вхождений по книгам. Символ [ ] обозначает одну пронумерованную группу предложений (в виде таких секций представлен текст "Записок..." на веб-сайте. Чаще это два-три предложения). Группа секций - это абзац, абзацы в схеме также пронумерованы. Далее массивом выводятся сначала все вхождения с предлогом. До и после массива представлено число - количество всех вхождений с предлогом.
Автоматически к каждому вхождению приписывается адресация: номер книги, номер абзаца, номер секции. Каждый раз призапуске программы для новой книги нужно изменять название файла, для которого работает программа, а также номер книги, который будет приписываться каждому вхождению.</p>

<p>В конце работы программа создает csv-файл с результатами (а именно списком вхождений). </p>

<p>Код программы простой, т.е. не предназначен для сложной автоматической обработки полученных результатов, а также не прездназначен для текстов разного формата, так как программа была написана в рамках узкого исследования, где способ выявления всех вхождений с предлогом в сочинении Цезаря "Записки о Галльской войне" не имеет большого значения.</p>

<pre><code>import re
f=open('книга I.txt', 'r', encoding='utf-8')    #Открытие файла. Изменить название файла призапуске кода для другой книги
fw=open('книга I.csv', 'w', encoding='utf-8')   #Создание csv-файла. Изменить название файла призапуске кода для другой книги
s=f.read()  
e=re.split('\[[0-9]*\]', s) #разделение файла на пронумерованные секции (2-3 предложения) согласно формату текста
p=1
n=0
v=[]
u=1
pp=[]
for y in e:
    ll=0
    if y==e[0]:
        continue
    else:
        print(p)
        z=re.split(' [0-9]* ', y)    #разделение секций на предложение
        for i in z:
            pp.append(u)
            u+=1
        for l in z:
            q=re.findall(' (?:A|a)b? [A-Za-z]*', l)
            if l==z[0]:
                continue
            else:
                print(q)
                for t in q:
                    v.append(t+' '+'1'+' ' +str(p)+' '+str(pp[ll])) #приписывание адресации к вхождению. 1-номер книги. 
                    n+=1
            ll+=1
        p+=1
print(n)
print(v)
print(len(v))
for b in v:
        o=re.search('ab [jyaeiuohAEIUOHYJ]', b)   #поиск вхождений алломорфа 'а' с лексемами на гласный или придыхательный [h]
        if o:
            fw.write(b + ';'+'ab v' + '\n')          #запись данных в csv-файл
        y=re.search('ab [bcdfgklmnpqrstvwxzBCDFGKLMNPQRSTVWXZ]', b)        #поиск вхождений алломорфа с лексемами на согласный 
        if y:
            fw.write(b + ';'+'ab c'+ '\n')          #запись данных в csv-файл
        rr=re.search('a [jyaeiuohAEIUOHYJ]', b)             #поиск вхождений алломорфа 'ab' с лексемами на гласный и [h]
        if rr:
            fw.write(b + ';'+ 'a v'+ '\n')          #запись данных в csv-файл
        yy=re.search('a [bcdfgklmnpqrstvwxzBCDFGKLMNPQRSTVWXZ]',b)  #поиск вхождений алломорфа с лексемами на согласный
        if yy:
            fw.write(b + ';'+'a c'+ '\n')             #запись данных в csv-файл
f.close()
fw.close()
</code></pre>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/elena44/hello-world">The distribution of the variations of the preposition a~ab in Caesar&#39;s &#39;Commentaries on the Gallic War&#39;</a> is maintained by <a href="https://github.com/elena44">elena44</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
